"use strict";(self.webpackChunk_generate_license_file_website=self.webpackChunk_generate_license_file_website||[]).push([[658],{876:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var a=n(2784);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=i,f=c["".concat(p,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(f,o(o({ref:t},s),{},{components:n})):a.createElement(f,o({ref:t},s))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<r;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2009:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(2784),i=n(6277);const r="tabItem_OMyP";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(r,o),hidden:n},t)}},1112:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7896),i=n(2784),r=n(6277),o=n(9741),l=n(2244),p=n(8963),u=n(4126);const s="tabList_M0Dn",d="tabItem_ysIP";function c(e){var t,n;const{lazy:o,block:c,defaultValue:m,values:f,groupId:g,className:v}=e,y=i.Children.map(e.children,(e=>{if((0,i.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=f?f:y.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),k=(0,l.l)(h,((e,t)=>e.value===t.value));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const b=null===m?m:null!=(t=null!=m?m:null==(n=y.find((e=>e.props.default)))?void 0:n.props.value)?t:y[0].props.value;if(null!==b&&!h.some((e=>e.value===b)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+h.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:w,setTabGroupChoices:C}=(0,p.U)(),[N,I]=(0,i.useState)(b),x=[],{blockElementScrollPositionUntilNextRender:T}=(0,u.o5)();if(null!=g){const e=w[g];null!=e&&e!==N&&h.some((t=>t.value===e))&&I(e)}const O=e=>{const t=e.currentTarget,n=x.indexOf(t),a=h[n].value;a!==N&&(T(t),I(a),null!=g&&C(g,String(a)))},E=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var a;const t=x.indexOf(e.currentTarget)+1;n=null!=(a=x[t])?a:x[0];break}case"ArrowLeft":{var i;const t=x.indexOf(e.currentTarget)-1;n=null!=(i=x[t])?i:x[x.length-1];break}}null==(t=n)||t.focus()};return i.createElement("div",{className:(0,r.Z)("tabs-container",s)},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":c},v)},h.map((e=>{let{value:t,label:n,attributes:o}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>x.push(e),onKeyDown:E,onFocus:O,onClick:O},o,{className:(0,r.Z)("tabs__item",d,null==o?void 0:o.className,{"tabs__item--active":N===t})}),null!=n?n:t)}))),o?(0,i.cloneElement)(y.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):i.createElement("div",{className:"margin-top--md"},y.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,o.Z)();return i.createElement(c,(0,a.Z)({key:String(t)},e))}},4018:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>c,default:()=>y,frontMatter:()=>d,metadata:()=>m,toc:()=>g});var a=n(7896),i=(n(2784),n(876)),r=n(1112),o=n(2009);const l={toc:[]};function p(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'// diff-red\nawait generateLicenseFile(myInput, myOutput, "windows");\n// diff-red\nawait generateLicenseFile(myInput, myOutput, "posix");\n// diff-red\n\n// diff-red\nawait getLicenseFileText(myInput, "windows");\n// diff-red\nawait getLicenseFileText(myInput, "posix");\n\n// diff-green\nawait generateLicenseFile(myInput, myOutput, "crlf");\n// diff-green\nawait generateLicenseFile(myInput, myOutput, "lf");\n// diff-green\n\n// diff-green\nawait getLicenseFileText(myInput, "crlf");\n// diff-green\nawait getLicenseFileText(myInput, "lf");\n')))}p.isMDXComponent=!0;const u={toc:[]};function s(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'// diff-red\nawait generateLicenseFile("./", myOutput);\n// diff-red\n\n// diff-red\nawait getLicenseFileText("./");\n// diff-red\n\n// diff-red\nawait getProjectLicenses("./");\n\n// diff-green\nawait generateLicenseFile("./package.json", myOutput);\n// diff-green\n\n// diff-green\nawait getLicenseFileText("./package.json");\n// diff-green\n\n// diff-green\nawait getProjectLicenses("./package.json");\n')))}s.isMDXComponent=!0;const d={title:"Migrate from v1 to v2"},c=void 0,m={unversionedId:"v1-to-v2",id:"v1-to-v2",title:"Migrate from v1 to v2",description:"Breaking Changes",source:"@site/docs/v1-to-v2.mdx",sourceDirName:".",slug:"/v1-to-v2",permalink:"/docs/next/v1-to-v2",draft:!1,editUrl:"https://github.com/TobyAndToby/generate-license-file/tree/main/projects/website/docs/v1-to-v2.mdx",tags:[],version:"current",frontMatter:{title:"Migrate from v1 to v2"},sidebar:"docs",previous:{title:"API",permalink:"/docs/next/library/api"}},f={},g=[{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Line Endings",id:"line-endings",level:3},{value:"End-of-line flag (EOL)",id:"end-of-line-flag-eol",level:3},{value:"Input",id:"input",level:3},{value:"Default Output file",id:"default-output-file",level:3},{value:"Capitalisation of npm",id:"capitalisation-of-npm",level:3},{value:"New features to consider",id:"new-features-to-consider",level:2},{value:"CI Mode",id:"ci-mode",level:3}],v={toc:g};function y(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"breaking-changes"},"Breaking Changes"),(0,i.kt)("h3",{id:"line-endings"},"Line Endings"),(0,i.kt)("p",null,"In v1, generate-license-file preserved the line endings ",(0,i.kt)("em",{parentName:"p"},"within")," license text. The ",(0,i.kt)("inlineCode",{parentName:"p"},"--eol")," property only applied to the text added around the licenses."),(0,i.kt)("p",null,"In v2, the ",(0,i.kt)("inlineCode",{parentName:"p"},"--eol")," property applies to all text in the output to create a consistent file."),(0,i.kt)("admonition",{title:"Actions Required",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"None!")),(0,i.kt)("h3",{id:"end-of-line-flag-eol"},"End-of-line flag (EOL)"),(0,i.kt)("p",null,"In v1, the ",(0,i.kt)("inlineCode",{parentName:"p"},"eol")," arguement took in either ",(0,i.kt)("inlineCode",{parentName:"p"},"windows")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"posix")," to set the line ending values in the output to either ",(0,i.kt)("inlineCode",{parentName:"p"},"\\r\\n")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"\\n")," respectively."),(0,i.kt)("p",null,"In v2, the ",(0,i.kt)("inlineCode",{parentName:"p"},"eol")," arguement now takes either ",(0,i.kt)("inlineCode",{parentName:"p"},"crlf")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"lf")," for either ",(0,i.kt)("inlineCode",{parentName:"p"},"\\r\\n")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"\\n")," respectively."),(0,i.kt)("admonition",{title:"Actions Required",type:"info"},(0,i.kt)(r.Z,{groupId:"apis",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",mdxType:"TabItem"},(0,i.kt)("p",null,"Change ",(0,i.kt)("code",null,"--eol windows")," to ",(0,i.kt)("code",null,"--eol crlf"),"."),(0,i.kt)("p",null,"Change ",(0,i.kt)("code",null,"--eol posix")," to ",(0,i.kt)("code",null,"--eol lf"),".")),(0,i.kt)(o.Z,{value:"programmatic",label:"Programmatic use",mdxType:"TabItem"},(0,i.kt)(p,{mdxType:"EolDiff"})))),(0,i.kt)("h3",{id:"input"},"Input"),(0,i.kt)("p",null,"In v1, the ",(0,i.kt)("inlineCode",{parentName:"p"},"input")," parameter was a path to the directory containing the ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," file."),(0,i.kt)("p",null,"In v2, the ",(0,i.kt)("inlineCode",{parentName:"p"},"input")," parameter needs to be a path to the ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," file itself."),(0,i.kt)("admonition",{title:"Actions Required",type:"info"},(0,i.kt)(r.Z,{groupId:"apis",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"cli",label:"CLI",mdxType:"TabItem"},(0,i.kt)("p",null,"Change ",(0,i.kt)("code",null,"--input ./")," to ",(0,i.kt)("code",null,"--input ./package.json"),"."),(0,i.kt)("p",null,"Change ",(0,i.kt)("code",null,"-i ./")," to ",(0,i.kt)("code",null,"-i ./package.json"),".")),(0,i.kt)(o.Z,{value:"programmatic",label:"Programmatic use",mdxType:"TabItem"},(0,i.kt)(s,{mdxType:"InputDiff"})))),(0,i.kt)("h3",{id:"default-output-file"},"Default Output file"),(0,i.kt)("p",null,"In v1, if you didn't provide an ",(0,i.kt)("inlineCode",{parentName:"p"},"--output")," flag to the CLI then it would use the file name ",(0,i.kt)("inlineCode",{parentName:"p"},"3rd-party-licenses.txt")),(0,i.kt)("p",null,"In v2, the default output file has been renamed to ",(0,i.kt)("inlineCode",{parentName:"p"},"third-party-licenses.txt")," to better fit in with industry conventions."),(0,i.kt)("admonition",{title:"Actions Required",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If you already provide the ",(0,i.kt)("inlineCode",{parentName:"p"},"--output")," flag to the CLI, none!"),(0,i.kt)("p",{parentName:"admonition"},"If you don't provide the ",(0,i.kt)("inlineCode",{parentName:"p"},"--output")," flag to the CLI and you want to stick with ",(0,i.kt)("inlineCode",{parentName:"p"},"3rd-party-licenses.txt"),", then you'll need to provide it ",(0,i.kt)("inlineCode",{parentName:"p"},"--output 3rd-party-licenses.txt"),"."),(0,i.kt)("p",{parentName:"admonition"},"If you don't provide the ",(0,i.kt)("inlineCode",{parentName:"p"},"--output")," flag and you're happy with the new file name, you'll need to update anything that points to/redirects to/uses it.")),(0,i.kt)("h3",{id:"capitalisation-of-npm"},"Capitalisation of npm"),(0,i.kt)("p",null,"In v1, the output text wrote npm in capital letters."),(0,i.kt)("p",null,"In v2, the output now ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/npm/npm/releases/tag/v5.0.0#:~:text=npm%20will%20now%20scold%20you%20if%20you%20capitalize%20its%20name.%20seriously%20it%20will%20fight%20you."},"correctly")," writes npm in lowercase."),(0,i.kt)("admonition",{title:"Actions Required",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"None!")),(0,i.kt)("h2",{id:"new-features-to-consider"},"New features to consider"),(0,i.kt)("h3",{id:"ci-mode"},"CI Mode"),(0,i.kt)("p",null,"If you're running the generate-license-file CLI as a part of your CI/CD pipelines/processes then you'll probably want to include our new ",(0,i.kt)("inlineCode",{parentName:"p"},"--ci")," flag."),(0,i.kt)("p",null,"This flag ensures that the CLI fails with a non-zero exitcode whenever it would normally prompt the user for an input.\nThis can stop your processes from needlessly hanging until they hit your configured timeout,\nsaving you time as well as debug effort due to the messages it will log before it exits."))}y.isMDXComponent=!0}}]);